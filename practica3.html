<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galería de Películas</title>

    <style>
        body {
            padding: 0px;
            margin: 0px;
            box-sizing: border-box;
        }

        .main {
            display: flex;
        }

        .contenedor img {
            max-width: 200px;
        }

        .contenedor {
            flex-grow: 1;
            background: rgb(227, 222, 222);
            display: flex;
            flex-wrap: wrap;
        }

        .pelicula {
            max-width: 200px;
            background-color: aqua;
            min-height: 200px;
        }
        .pelicula img{
            max-width: 150px;
        }

        .peliCard {
            margin: 10px;
            padding: 10px;
            border: 1px solid black;
        }

        
    </style>
</head>

<body>

    <main>

        <!--Lista de peliculas-->
        <div class="contenedor"></div>

        <!--datos de peliculas-->
        <div class="pelicula"></div>

        <div class="peli"></div>

    </main>

    <script>
        const dataPeliculas = `[
  {
    "titulo": "Inception",
    "genero": "Ciencia Ficción",
    "puntaje": 8.8,
    "descripcion": "Un ladrón que roba secretos corporativos a través del uso de tecnología de sueños es dado la tarea inversa de plantar una idea en la mente de un CEO.",
    "imagen": "https://via.placeholder.com/150"
  },
  {
    "titulo": "The Dark Knight",
    "genero": "Acción",
    "puntaje": 9.0,
    "descripcion": "Cuando el Joker emerge como el nuevo villano del caos, Batman debe aceptar uno de los mayores desafíos psicológicos y físicos para combatir la injusticia.",
    "imagen": "https://via.placeholder.com/150"
  },
  {
    "titulo": "Interstellar",
    "genero": "Aventura",
    "puntaje": 8.6,
    "descripcion": "Un equipo de exploradores viaja a través de un agujero de gusano en el espacio en un intento de asegurar la supervivencia de la humanidad.",
    "imagen": "https://via.placeholder.com/150"
  }
]`

        const listaPeliculas = JSON.parse(dataPeliculas);
        const divContenedor = document.querySelector(".contenedor");
        const divPelicula = document.querySelector(".pelicula");
        //console.log(listaPeliculas);
        //console.log(listaPeliculas[2].genero);

        listaPeliculas.forEach((pelicula, indice) => {
            console.log(pelicula.titulo);
            console.log(indice); // en que posicion del array esta


        //  //crear div utilizando TEMPLATE STRINGS
        //     divContenedor.innerHTML += `<div class= "peliCard"  onClick="seleccionarPelicula(${indice})"</div>
        //                                 <h2>${pelicula.titulo}</h2>

        //                                 <img src="${pelicula.imagen}"alt="${pelicula.titulo}">`;


        const peliculaDiv = document.createElement('div');
        peliculaDiv.classList.add("peliCard");

        peliculaDiv.innerHTML=
        `<h2>${pelicula.titulo}</h2>
        <img src="${pelicula.imagen}" alt="${pelicula.titulo}" />`;

        divContenedor.appendChild(peliculaDiv);

        peliculaDiv.addEventListener("click", ()=>{
            seleccionarPelicula(indice);
        });
        }); //fin del forEach


        function seleccionarPelicula(num) {
            // alert("mostrar  pelicula:",+ num);
            console.log(listaPeliculas[num]);
            const pelicula = listaPeliculas[num];

       
            divPelicula.innerHTML = `<h3>${pelicula.titulo}</h3>
           <ul>
           <li>genero:<b>${pelicula.genero}<b></li>
           <li>puntaje:<b>${pelicula.puntaje}<b></li>
           </ul>
           <p>${pelicula.descripcion}</p>`;

         }

        // const pelis = document.querySelectorAll(".peliCard");

        // pelis.forEach(peli => {

        //     peli.addEventListener("click", (event) => {
        //         const divPelicula = event.target.closest(".peliCard");

        //         console.log(divPelicula);

        //     });
        // })



    </script>


</body>

</html>